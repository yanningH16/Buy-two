webpackJsonp([8],{IBkV:function(t,e,s){"use strict";function a(t){s("jg6d")}Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),o=s.n(n),i=s("Omn0"),r=s("Au9i"),c=s("SJI6"),p=s("L6bb"),d=s.n(p),m={name:"withdrawSet2",components:{Step:i.a},computed:o()({},Object(c.mapGetters)(["userInfo"])),data:function(){return{stepArr:["绑定银行卡","设置提现密码"],timeout:"获取",phone:"",pass1:"",pass2:"",keyNum:""}},methods:o()({getkey:function(){var t=this,e=60,s=setInterval(function(){e--,t.timeout=e+" s",0===e&&(clearInterval(s),t.timeout="获取")},1e3)},getMessage:function(){var t=this,e=/^1[34578]\d{9}$/;"获取"===this.timeout&&e.test(this.phone)?this.$ajax.post("/api/config/sms/sendSms",{type:2,telephone:this.phone}).then(function(e){"200"===e.data.code?t.getkey():Object(r.Toast)({message:e.data.message,position:"bottom"})}).catch(function(t){console.log(t)}):Object(r.Toast)({message:"请输入手机号码",position:"bottom"})},testMessage:function(){var t=this;this.$ajax.post("/api/config/sms/vertify",{type:2,telephone:this.phone,code:this.keyNum}).then(function(e){"200"===e.data.code?t.setPass():Object(r.Toast)({message:e.data.message,position:"bottom"})}).catch(function(t){console.log(t)})},setPass:function(){var t=this;this.$ajax.post("/api/buyerAccount/resetWithdrawPassword",{newWithdrawPassword:d()(this.pass1),telephone:this.phone}).then(function(e){"200"===e.data.code?(t.reFresh(),t.$router.push({name:"userCenter"})):Object(r.Toast)({message:e.data.message,position:"bottom"})}).catch(function(t){console.log(t)})},finsh:function(){""===this.pass1||""===this.pass2?Object(r.Toast)({message:"请填写提现密码",position:"bottom"}):this.pass1!==this.pass2?Object(r.Toast)({message:"密码不一致,请重新输入",position:"bottom"}):this.testMessage()},reFresh:function(){var t=this;this.$ajax.post("/api/buyerAccount/refresh",{telephone:this.userInfo.telephone}).then(function(e){"200"===e.data.code?t.setUserInfo(e.data.data):Object(r.Toast)({message:e.data.message,position:"bottom"})}).catch(function(t){console.log(t)})}},Object(c.mapActions)(["setUserInfo"]))},A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"withdrawSet2"},[s("div",{staticClass:"step"},[s("step",{attrs:{stepArr:t.stepArr,stepIndex:1}})],1),t._v(" "),s("ul",{staticClass:"cont"},[s("li",{staticClass:"border-bottom-1px"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"输入手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyNum,expression:"keyNum"}],staticStyle:{width:"50%"},attrs:{type:"number",placeholder:"输入验证码"},domProps:{value:t.keyNum},on:{input:function(e){e.target.composing||(t.keyNum=e.target.value)}}}),t._v(" "),s("span",{staticClass:"get border-1px",on:{click:t.getMessage}},[t._v(t._s(t.timeout))])])]),t._v(" "),s("ul",{staticClass:"cont"},[s("li",{staticClass:"border-bottom-1px"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pass1,expression:"pass1"}],attrs:{type:"password",placeholder:"输入提现密码"},domProps:{value:t.pass1},on:{input:function(e){e.target.composing||(t.pass1=e.target.value)}}})]),t._v(" "),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pass2,expression:"pass2"}],attrs:{type:"password",placeholder:"再次输入密码"},domProps:{value:t.pass2},on:{input:function(e){e.target.composing||(t.pass2=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"footer"},[s("span",{staticClass:"btn",on:{click:t.finsh}},[t._v("完成")])])])},h=[],u={render:A,staticRenderFns:h},l=u,g=s("VU/8"),f=a,v=g(m,l,!1,f,"data-v-1e585bc2",null);e.default=v.exports},hUru:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,".withdrawSet2[data-v-1e585bc2]{width:100%;height:100%;overflow:auto;background:#eff0f2}.withdrawSet2 .cont[data-v-1e585bc2]{margin-top:1.2rem;background:#fff;padding-left:1.6rem}.withdrawSet2 .cont li[data-v-1e585bc2]{height:1.4rem;padding-top:1.8rem;padding-right:1rem;padding-bottom:1.8rem;font-size:1.4rem}.withdrawSet2 .cont li .get[data-v-1e585bc2]{float:right;margin-top:-1rem;width:4.8rem;height:3.4rem;line-height:3.4rem;text-align:center;font-size:#999}.withdrawSet2 .cont li input[data-v-1e585bc2]{width:100%;outline:none}.withdrawSet2 .footer[data-v-1e585bc2]{padding:2rem 1.6rem}","",{version:3,sources:["C:/Users/Administrator/Desktop/planB/buyer/src/components/userCenter/withdrawSet2.vue"],names:[],mappings:"AACA,+BACE,WAAY,AACZ,YAAa,AACb,cAAe,AACf,kBAAoB,CACrB,AACD,qCACE,kBAAmB,AACnB,gBAAiB,AACjB,mBAAqB,CACtB,AACD,wCACE,cAAe,AACf,mBAAoB,AACpB,mBAAoB,AACpB,sBAAuB,AACvB,gBAAkB,CACnB,AACD,6CACE,YAAa,AACb,iBAAkB,AAClB,aAAc,AACd,cAAe,AACf,mBAAoB,AACpB,kBAAmB,AACnB,cAAgB,CACjB,AACD,8CACE,WAAY,AACZ,YAAc,CACf,AACD,uCACE,mBAAqB,CACtB",file:"withdrawSet2.vue",sourcesContent:["\n.withdrawSet2[data-v-1e585bc2] {\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background: #eff0f2;\n}\n.withdrawSet2 .cont[data-v-1e585bc2] {\n  margin-top: 1.2rem;\n  background: #fff;\n  padding-left: 1.6rem;\n}\n.withdrawSet2 .cont li[data-v-1e585bc2] {\n  height: 1.4rem;\n  padding-top: 1.8rem;\n  padding-right: 1rem;\n  padding-bottom: 1.8rem;\n  font-size: 1.4rem;\n}\n.withdrawSet2 .cont li .get[data-v-1e585bc2] {\n  float: right;\n  margin-top: -1rem;\n  width: 4.8rem;\n  height: 3.4rem;\n  line-height: 3.4rem;\n  text-align: center;\n  font-size: #999;\n}\n.withdrawSet2 .cont li input[data-v-1e585bc2] {\n  width: 100%;\n  outline: none;\n}\n.withdrawSet2 .footer[data-v-1e585bc2] {\n  padding: 2rem 1.6rem;\n}"],sourceRoot:""}])},jg6d:function(t,e,s){var a=s("hUru");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("2589c649",a,!0)}});
//# sourceMappingURL=8.8f870b7c9992a37d26e2.js.map