webpackJsonp([20],{"7zkv":function(t,e,o){"use strict";function s(t){o("x2qN")}Object.defineProperty(e,"__esModule",{value:!0});var n=o("L6bb"),a=o.n(n),i=o("Au9i"),r={name:"forget",comments:{Toast:i.Toast},data:function(){return{timeout:"获取",phone:"",keyNum:"",pass1:"",pass2:"",isOk:!1}},methods:{getkey:function(){var t=this,e=60,o=setInterval(function(){e--,t.timeout=e+" s",0===e&&(clearInterval(o),t.timeout="获取")},1e3)},input:function(){/^1[34578]\d{9}$/.test(this.phone)&&""!==this.keyNum&&""!==this.pass1&&""!==this.pass2&&this.pass1===this.pass2?this.isOk=!0:this.isOk=!1},blur:function(){/^1[34578]\d{9}$/.test(this.phone)?""===this.keyNum?Object(i.Toast)({message:"请输入验证码",position:"bottom"}):""===this.pass1?Object(i.Toast)({message:"请输入新密码",position:"bottom"}):""===this.pass2?Object(i.Toast)({message:"请再次输入新密码",position:"bottom"}):this.pass1!==this.pass2&&Object(i.Toast)({message:"密码不一致",position:"bottom"}):Object(i.Toast)({message:"请输入手机号码",position:"bottom"})},getMessage:function(){var t=this,e=/^1[34578]\d{9}$/;"获取"===this.timeout&&e.test(this.phone)?this.$ajax.post("/api/config/sms/sendSms",{type:2,telephone:this.phone}).then(function(e){"200"===e.data.code?t.getkey():Object(i.Toast)({message:e.data.message,position:"bottom"})}).catch(function(t){console.log(t)}):Object(i.Toast)({message:"请输入手机号码",position:"bottom"})},testMessage:function(){var t=this;this.$ajax.post("/api/config/sms/vertify",{type:2,telephone:this.phone,code:this.keyNum}).then(function(e){"200"===e.data.code?t.fixPass():Object(i.Toast)({message:e.data.message,position:"bottom"})}).catch(function(t){console.log(t)})},sure:function(){this.isOk&&this.testMessage()},fixPass:function(){var t=this;this.$ajax.post("/api/buyerAccount/resetPassword",{newPassword:a()(this.pass1),telephone:this.phone}).then(function(e){"200"===e.data.code?(Object(i.Toast)({message:"修改成功!",position:"bottom"}),t.$router.push({name:"login"})):Object(i.Toast)({message:e.data.message,position:"bottom"})}).catch(function(t){console.log(t)})}}},p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"forget"},[o("div",{staticClass:"group border-bottom-1px"},[o("div",{staticClass:"input border-bottom-1px"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"输入手机号"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.input]}})]),t._v(" "),o("div",{staticClass:"input haveButton"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.keyNum,expression:"keyNum"}],attrs:{type:"number",placeholder:"输入验证码"},domProps:{value:t.keyNum},on:{input:[function(e){e.target.composing||(t.keyNum=e.target.value)},t.input]}}),t._v(" "),o("span",{staticClass:"border-1px",on:{click:t.getMessage}},[t._v(t._s(t.timeout))])])]),t._v(" "),o("div",{staticClass:"group border-bottom-1px"},[o("div",{staticClass:"input border-bottom-1px"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.pass1,expression:"pass1"}],attrs:{type:"password",placeholder:"输入新密码"},domProps:{value:t.pass1},on:{input:[function(e){e.target.composing||(t.pass1=e.target.value)},t.input]}})]),t._v(" "),o("div",{staticClass:"input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.pass2,expression:"pass2"}],attrs:{type:"password",placeholder:"再次输入新密码"},domProps:{value:t.pass2},on:{input:[function(e){e.target.composing||(t.pass2=e.target.value)},t.input],blur:t.blur}})])]),t._v(" "),o("div",{staticClass:"buttons"},[o("span",{staticClass:"btn",class:{"btn-gray":!t.isOk},on:{click:t.sure}},[t._v("确认")])])])},d=[],A={render:p,staticRenderFns:d},u=A,m=o("VU/8"),g=s,c=m(r,u,!1,g,"data-v-5917926d",null);e.default=c.exports},SFhh:function(t,e,o){e=t.exports=o("FZ+f")(!0),e.push([t.i,".forget[data-v-5917926d]{background:#f5f5f5;width:100%;height:100%;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.forget .border[data-v-5917926d]{border-bottom:.5px solid #d4d5d8}.forget .group[data-v-5917926d]{margin-top:1.2rem;background:#fff;padding-left:1.6rem}.forget .group .input[data-v-5917926d]{height:1.4rem;padding-top:1.8rem;padding-bottom:1.8rem}.forget .group .input input[data-v-5917926d]{font-size:1.4rem;line-height:1;outline:none}.forget .group .haveButton[data-v-5917926d]{position:relative}.forget .group .haveButton input[data-v-5917926d]{width:50%}.forget .group .haveButton span[data-v-5917926d]{position:absolute;top:.8rem;right:1.6rem;border-radius:.2rem;width:4.8rem;height:3.4rem;line-height:3.4rem;text-align:center;color:#999;font-size:1.4rem}.forget .group .haveButton .active[data-v-5917926d]{border:.5px solid #b7b9bf;color:#000}.forget .buttons[data-v-5917926d]{margin-top:.4rem;padding:1.6rem}","",{version:3,sources:["C:/Users/Administrator/Desktop/planB/buyer/src/components/login/forget.vue"],names:[],mappings:"AACA,yBACE,mBAAoB,AACpB,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,8BAA+B,AACvB,qBAAuB,CAChC,AACD,iCACE,gCAAmC,CACpC,AACD,gCACE,kBAAmB,AACnB,gBAAiB,AACjB,mBAAqB,CACtB,AACD,uCACE,cAAe,AACf,mBAAoB,AACpB,qBAAuB,CACxB,AACD,6CACE,iBAAkB,AAClB,cAAe,AACf,YAAc,CACf,AACD,4CACE,iBAAmB,CACpB,AACD,kDACE,SAAW,CACZ,AACD,iDACE,kBAAmB,AACnB,UAAY,AACZ,aAAc,AACd,oBAAsB,AACtB,aAAc,AACd,cAAe,AACf,mBAAoB,AACpB,kBAAmB,AACnB,WAAY,AACZ,gBAAkB,CACnB,AACD,oDACE,0BAA4B,AAC5B,UAAY,CACb,AACD,kCACE,iBAAmB,AACnB,cAAgB,CACjB",file:"forget.vue",sourcesContent:["\n.forget[data-v-5917926d] {\n  background: #f5f5f5;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.forget .border[data-v-5917926d] {\n  border-bottom: 0.5px solid #d4d5d8;\n}\n.forget .group[data-v-5917926d] {\n  margin-top: 1.2rem;\n  background: #fff;\n  padding-left: 1.6rem;\n}\n.forget .group .input[data-v-5917926d] {\n  height: 1.4rem;\n  padding-top: 1.8rem;\n  padding-bottom: 1.8rem;\n}\n.forget .group .input input[data-v-5917926d] {\n  font-size: 1.4rem;\n  line-height: 1;\n  outline: none;\n}\n.forget .group .haveButton[data-v-5917926d] {\n  position: relative;\n}\n.forget .group .haveButton input[data-v-5917926d] {\n  width: 50%;\n}\n.forget .group .haveButton span[data-v-5917926d] {\n  position: absolute;\n  top: 0.8rem;\n  right: 1.6rem;\n  border-radius: 0.2rem;\n  width: 4.8rem;\n  height: 3.4rem;\n  line-height: 3.4rem;\n  text-align: center;\n  color: #999;\n  font-size: 1.4rem;\n}\n.forget .group .haveButton .active[data-v-5917926d] {\n  border: 0.5px solid #b7b9bf;\n  color: #000;\n}\n.forget .buttons[data-v-5917926d] {\n  margin-top: 0.4rem;\n  padding: 1.6rem;\n}"],sourceRoot:""}])},x2qN:function(t,e,o){var s=o("SFhh");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o("rjj0")("4f282814",s,!0)}});
//# sourceMappingURL=20.61e475bf427cca1b7d1c.js.map